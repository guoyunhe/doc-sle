# SOME DESCRIPTIVE TITLE.
# FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
#
#, fuzzy
msgid ""
msgstr ""
"Project-Id-Version: PACKAGE VERSION\n"
"Report-Msgid-Bugs-To: http://bugs.kde.org\n"
"POT-Creation-Date: 2017-01-20 18:23+0000\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <kde-i18n-doc@kde.org>\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"

#. Tag: title
#: art_sle_amazon_ecs.xml:17
#, no-c-format
msgid "SUSE Linux Enterprise in the Public Cloud"
msgstr ""

#. Tag: subtitle
#: art_sle_amazon_ecs.xml:18
#, no-c-format
msgid "Amazon EC2 Container Service"
msgstr ""

#. Tag: para
#: art_sle_amazon_ecs.xml:23
#, no-c-format
msgid ""
"<link xlink:href=\"https://aws.amazon.com/ecs/\">Amazon EC2 Container "
"Service (ECS)</link> is a container management service that provides a set "
"of APIs for scheduling container workloads across EC2 clusters."
msgstr ""

#. Tag: para
#: art_sle_amazon_ecs.xml:28
#, no-c-format
msgid ""
"&sle; 12 images with the <emphasis role=\"strong\">ecs</emphasis> TLA in the "
"image name are designed to integrate with the Amazon EC2 Container service. "
"The image contains an agent that interacts with Docker to start/stop new "
"containers and gather information about running containers. The agent is "
"fully integrated with &sle;."
msgstr ""

#. Tag: title
#: art_sle_amazon_ecs.xml:39
#, no-c-format
msgid "Cluster setup"
msgstr ""

#. Tag: para
#: art_sle_amazon_ecs.xml:40
#, no-c-format
msgid ""
"Creating a new ECS cluster in Amazon is accomplished by using the <link "
"xlink:href=\"https://console.aws.amazon.com/ecs/home#/firstRun\">First Run "
"Wizard.</link> Alternatively you may use the <command>aws</command> command "
"line tool to create the cluster, refer to <link xlink:href=\"http://docs.aws."
"amazon.com/cli/latest/reference/ecs/create-cluster.html\">create</link> for "
"details. In the First Run Wizard select <guimenu>Custom</guimenu> if you "
"want to create a setup unique to your own needs. The <guimenu>Amazon ECS "
"sample</guimenu> selection creates a pre-defined web application setup, that "
"may be customized. By default the First Run Wizard selects the Amazon ECS "
"AMI, we will change this later."
msgstr ""

#. Tag: para
#: art_sle_amazon_ecs.xml:55
#, no-c-format
msgid ""
"Note that using the First Run Wizard also creates an autoscaling group. This "
"implies that at least one instance (default setting) is always running and a "
"new instance will be started by the autoscaling group if the running "
"instance should be stopped or terminated."
msgstr ""

#. Tag: para
#: art_sle_amazon_ecs.xml:62
#, no-c-format
msgid ""
"We recommend retaining the default cluster name <emphasis role=\"strong"
"\">default</emphasis>. When the cluster is named <systemitem>default</"
"systemitem> an ECS instance will automatically attach itself to the cluster "
"without additional configuration steps. Selecting a custom name for the "
"cluster requires the instance to be configured as outlined in <xref linkend="
"\"alternative-cluster-name\"/>."
msgstr ""

#. Tag: title
#: art_sle_amazon_ecs.xml:73
#, no-c-format
msgid "ECS instance role"
msgstr ""

#. Tag: para
#: art_sle_amazon_ecs.xml:74
#, no-c-format
msgid ""
"Use of the Amazon EC2 Container Service requires permissions that are not "
"enabled by default in the Identity and Access Management (IAM) "
"functionality. Therefore it is necessary to create a policy that provides "
"users that are intended to use ECS with the proper permissions. We recommend "
"the following policy:"
msgstr ""

#. Tag: screen
#: art_sle_amazon_ecs.xml:81
#, no-c-format
msgid ""
"{\n"
"      \"Version\": \"2012-10-17\",\n"
"      \"Statement\": [\n"
"          {\n"
"              \"Effect\": \"Allow\",\n"
"              \"Action\": [\n"
"                  \"ecs:CreateCluster\",\n"
"                  \"ecs:DeregisterContainerInstance\",\n"
"                  \"ecs:DiscoverPollEndpoint\",\n"
"                  \"ecs:Poll\",\n"
"                  \"ecs:RegisterContainerInstance\",\n"
"                  \"ecs:Submit*\",\n"
"                  \"ecs:StartTask\",\n"
"                  \"ecs:DescribeTasks\",\n"
"                  \"ecs:StopTask\",\n"
"                  \"ecs:RegisterTaskDefinition\",\n"
"                  \"ecs:DescribeTaskDefinition\",\n"
"                  \"ecs:DescribeContainerInstances\",\n"
"                  \"ecs:StartTelemetrySession\"\n"
"              ],\n"
"              \"Resource\": [\n"
"                  \"*\"\n"
"              ]\n"
"          }\n"
"      ]\n"
"    }"
msgstr ""

#. Tag: para
#: art_sle_amazon_ecs.xml:82
#, no-c-format
msgid ""
"For additional information about IAM policies please refer to the Amazon "
"documentation: <link xlink:href=\"http://docs.aws.amazon.com/AmazonECS/"
"latest/developerguide/IAM_policies.html\">IAM Policies</link>"
msgstr ""

#. Tag: para
#: art_sle_amazon_ecs.xml:86
#, no-c-format
msgid ""
"Once the policy is created attach it to a role named <emphasis role=\"strong"
"\">ecsInstanceRole</emphasis>. Details about ECS specific policies and roles "
"can be found in the Amazon documentation: <link xlink:href=\"http://docs.aws."
"amazon.com/AmazonECS/latest/developerguide/instance_IAM_role.html\">IAM "
"Role</link>"
msgstr ""

#. Tag: para
#: art_sle_amazon_ecs.xml:93
#, no-c-format
msgid ""
"Note that the policy given above is more permissive than the policy example "
"provided in the Amazon documentation."
msgstr ""

#. Tag: title
#: art_sle_amazon_ecs.xml:100
#, no-c-format
msgid "Attach &sls; ECS instances to the cluster"
msgstr ""

#. Tag: para
#: art_sle_amazon_ecs.xml:101
#, no-c-format
msgid ""
"Once the cluster is up and running and your AWS account provides a "
"permissive IAM role for ECS, you can continue to run ECS instances as "
"follows:"
msgstr ""

#. Tag: para
#: art_sle_amazon_ecs.xml:108
#, no-c-format
msgid ""
"Find the latest &sls; ECS ami using <link xlink:href=\"https://www.suse.com/"
"communities/conversations/tag/pint\">pint</link>"
msgstr ""

#. Tag: screen
#: art_sle_amazon_ecs.xml:112
#, no-c-format
msgid "$ pint amazon images --active --filter 'name~ecs'"
msgstr ""

#. Tag: para
#: art_sle_amazon_ecs.xml:115
#, no-c-format
msgid ""
"Run as many instances of the above ami as required for your cluster. "
"Remember to select the ECS role when launching the instance."
msgstr ""

#. Tag: para
#: art_sle_amazon_ecs.xml:120
#, no-c-format
msgid ""
"You may use the Amazon EC2 Web Console to launch instances. The &sls; ECS "
"images are found in the so called General Catalog. From the <emphasis role="
"\"strong\">Instances</emphasis> view select <guimenu>Launch Instance</"
"guimenu>. In the left column select the <guimenu>Community AMIs</guimenu> "
"tab. Check the <guimenu>SUSE Linux</guimenu> box on the left and enter "
"<emphasis role=\"strong\">ecs</emphasis> into the search box. When "
"configuring the instance parameters in the <emphasis role=\"strong"
"\">Configure Instance Details</emphasis> view select the "
"<guimenu>ecsInstanceRole</guimenu> as the IAM role. Then launch the instance."
msgstr ""

#. Tag: para
#: art_sle_amazon_ecs.xml:133
#, no-c-format
msgid ""
"Alternatively you can use the <command>aws</command> command line tool to "
"run instances, see <link xlink:href=\"http://docs.aws.amazon.com/cli/latest/"
"reference/ec2/run-instances.html\">run-instances</link> for details."
msgstr ""

#. Tag: screen
#: art_sle_amazon_ecs.xml:138
#, no-c-format
msgid ""
"$ aws ec2 run-instances \\\n"
"           --image-id <replaceable>IMAGE_ID_SEE_PINT_OUTPUT</replaceable> "
"\\\n"
"           --region <replaceable>EC2_REGION_NAME</replaceable> \\\n"
"           --key-name <replaceable>SSH_KEY_PAIR_NAME</replaceable> \\\n"
"           --instance-type <replaceable>DESIRED_INSTANCE_TYPE</replaceable> "
"\\\n"
"           --subnet-id <replaceable>SUBNET_ID</replaceable> \\\n"
"           --iam-instance-profile 'Arn=<replaceable>PROFILE_PATH</"
"replaceable>'"
msgstr ""

#. Tag: para
#: art_sle_amazon_ecs.xml:139
#, no-c-format
msgid ""
"The <replaceable>PROFILE_PATH</replaceable> may be obtained by querying the "
"IAM service."
msgstr ""

#. Tag: screen
#: art_sle_amazon_ecs.xml:142
#, no-c-format
msgid "$ aws iam list-instance-profiles"
msgstr ""

#. Tag: para
#: art_sle_amazon_ecs.xml:143
#, no-c-format
msgid ""
"The <replaceable>SUBNET_ID</replaceable> will depend on your network "
"configuration. If you created your setup using the First Run Wizard you will "
"most likely want the instance to run in the subnet created by the wizard. "
"Thus, you can obtain the value by inspecting the properties of the running "
"ECS Instance."
msgstr ""

#. Tag: para
#: art_sle_amazon_ecs.xml:150
#, no-c-format
msgid ""
"Once the instance is running and if your cluster is named "
"<systemitem>default</systemitem> you can confirm that the instance has "
"attached itself to the cluster as follows:"
msgstr ""

#. Tag: screen
#: art_sle_amazon_ecs.xml:155
#, no-c-format
msgid "$ aws ecs describe-clusters"
msgstr ""

#. Tag: para
#: art_sle_amazon_ecs.xml:156
#, no-c-format
msgid ""
"The <literal>registeredContainerInstancesCount</literal> entry in the output "
"provides the number of instances considered to be part of the cluster. If "
"you used the First Run Wizard to create the cluster the number should be at "
"least 2 after you launch the &sls; ECS instance."
msgstr ""

#. Tag: para
#: art_sle_amazon_ecs.xml:165
#, no-c-format
msgid ""
"If you used the First Run Wizard you already have an <link xlink:href="
"\"https://aws.amazon.com/autoscaling/\">Auto Scaling</link> group. You can "
"<link xlink:href=\"http://docs.aws.amazon.com/cli/latest/reference/"
"autoscaling/attach-instances.html\">add</link> the running &sls; instance to "
"the existing group, or simply remove the default group. Removing the group "
"created by the ECS First Run Wizard will also terminate the ECS Amazon AMI "
"and you will be left with the running SUSE Linux Enterprise Server ECS "
"optimized instance launched above."
msgstr ""

#. Tag: para
#: art_sle_amazon_ecs.xml:176
#, no-c-format
msgid ""
"The autoscaling feature provides parallel functionality that is not strictly "
"necessary for operating container instances. The First Run Wizard creates an "
"autoscaling group as a good practice to ensure that at least always 1 "
"container host is running."
msgstr ""

#. Tag: title
#: art_sle_amazon_ecs.xml:185
#, no-c-format
msgid "Alternative cluster name"
msgstr ""

#. Tag: para
#: art_sle_amazon_ecs.xml:186
#, no-c-format
msgid ""
"If you chose a name other than <emphasis role=\"strong\">default</emphasis> "
"for your cluster it is necessary to configure the instance to attach itself "
"to this cluster. The configuration consists of setting the <emphasis role="
"\"strong\">ECS_CLUSTER</emphasis> variable as follows:"
msgstr ""

#. Tag: para
#: art_sle_amazon_ecs.xml:196
#, no-c-format
msgid "Login to the running ECS instance via ssh."
msgstr ""

#. Tag: para
#: art_sle_amazon_ecs.xml:201
#, no-c-format
msgid ""
"Edit the environment file <filename>/etc/ecs/ecs.config</filename> and add "
"an entry of the form:"
msgstr ""

#. Tag: para
#: art_sle_amazon_ecs.xml:206
#, no-c-format
msgid "ECS_CLUSTER=name"
msgstr ""

#. Tag: para
#: art_sle_amazon_ecs.xml:209
#, no-c-format
msgid ""
"The amazon ECS init launcher will read in the environment file and populate "
"the information into the environment prior to starting the ECS agent. A "
"complete list of configuration options can be found at: <link xlink:href="
"\"https://github.com/aws/amazon-ecs-agent#environment-variables\">Agent "
"Configuration Variables</link>"
msgstr ""

#. Tag: para
#: art_sle_amazon_ecs.xml:217
#, no-c-format
msgid "Restart the service with:"
msgstr ""

#. Tag: screen
#: art_sle_amazon_ecs.xml:220
#, no-c-format
msgid "$ sudo systemctl restart amazon-ecs"
msgstr ""

#. Tag: para
#: art_sle_amazon_ecs.xml:221
#, no-c-format
msgid ""
"The current instance will be detached from the default cluster and will be "
"re-attached to the configured cluster name."
msgstr ""

#. Tag: para
#: art_sle_amazon_ecs.xml:226
#, no-c-format
msgid ""
"Watching <filename>/var/log/ecs/ecs-agent.log.*</filename> will tell you if "
"the expected cluster is used."
msgstr ""

#. Tag: title
#: art_sle_amazon_ecs.xml:235
#, no-c-format
msgid "Additional Considerations"
msgstr ""

#. Tag: para
#: art_sle_amazon_ecs.xml:236
#, no-c-format
msgid ""
"The integrated ECS service requires access to Amazon S3 to download a pre-"
"built container. This implies that if you start an ECS instance that has no "
"route to reach Amazon S3 the initialization will fail and the container host "
"instance will not be able to attach itself to your cluster. Should you end "
"up in a situation where the instance does not attach itself to your "
"<emphasis role=\"strong\">default</emphasis> cluster, you can modify your "
"network configuration to ensure a route to Amazon S3 and then simply log "
"into your container instance as start the service as follows:"
msgstr ""

#. Tag: screen
#: art_sle_amazon_ecs.xml:247
#, no-c-format
msgid "$ systemctl start amazon-ecs.service"
msgstr ""

#. Tag: title
#: art_sle_amazon_ecs.xml:250
#, no-c-format
msgid "Using &sls; Containers"
msgstr ""

#. Tag: para
#: art_sle_amazon_ecs.xml:251
#, no-c-format
msgid ""
"&sls; Docker images are not available on Docker Hub. However, SUSE provides "
"pre-build docker images as packages in the SLE-Module-Containers12-Updates "
"repository. Given that your launched instance has a route to the Internet "
"and that the traffic originates with an IP address assigned by EC2 the "
"instance will automatically register with an update server and the SLE-"
"Module-Containers12-Updates repository will be configured. Once configured "
"installing a &sls; docker image is simple:"
msgstr ""

#. Tag: screen
#: art_sle_amazon_ecs.xml:261
#, no-c-format
msgid "$ zypper se docker-image"
msgstr ""

#. Tag: para
#: art_sle_amazon_ecs.xml:262
#, no-c-format
msgid ""
"Install the image you are interested in, the &sls; 12 image for example:"
msgstr ""

#. Tag: screen
#: art_sle_amazon_ecs.xml:265
#, no-c-format
msgid "$ zypper in sles12-docker-image"
msgstr ""

#. Tag: para
#: art_sle_amazon_ecs.xml:266
#, no-c-format
msgid ""
"The &sls; license does not allow you to push this image to a public docker "
"registry. However you can use the Amazon hosted private <link xlink:href="
"\"https://aws.amazon.com/ecr/\">Container Registry</link> to store &sls; "
"containers."
msgstr ""

#. Tag: para
#: art_sle_amazon_ecs.xml:272
#, no-c-format
msgid ""
"For additional details about &sls; Docker images see section 6 of the <link "
"xlink:href=\"https://www.suse.com/documentation/sles-12/dockerquick/data/"
"dockerquick.html#sec_docker_sle_images\">Quick Start Guide</link>."
msgstr ""

#. Tag: title
#: art_sle_amazon_ecs.xml:280
#, no-c-format
msgid "Docker Image Storage"
msgstr ""

#. Tag: para
#: art_sle_amazon_ecs.xml:281
#, no-c-format
msgid ""
"The &sls; ECS image uses btrfs as the storage backend for docker image "
"storage. The image storage is self contained in the <filename>/var/lib/"
"docker-storage.btrfs</filename> file that is mounted to <filename>/var/lib/"
"docker</filename>. The image storage is configured to be 100 GB in size. "
"This is thinly provisioned and thus does not actually take up 100 GB of "
"space on the root file system. It is the users responsibility to start an "
"instance with a sufficiently large root volume to store the docker images."
msgstr ""

#. Tag: para
#: art_sle_amazon_ecs.xml:291
#, no-c-format
msgid ""
"If you store a large number of docker images or you want to safeguard your "
"local docker images from accidental deletion you may consider to place the "
"image storage onto an external <link xlink:href=\"https://aws.amazon.com/ebs/"
"\">Elastic Block Store</link> device. If you format the device with btrfs no "
"changes to the docker configuration are required."
msgstr ""

#. Tag: para
#: art_sle_amazon_ecs.xml:300
#, no-c-format
msgid "The device must be mounted to <filename>/var/lib/docker</filename>."
msgstr ""

#. Tag: para
#: art_sle_amazon_ecs.xml:305
#, no-c-format
msgid ""
"If you choose another storage backend you will need to modify <filename>/etc/"
"sysconfig/docker</filename> to pass the appropriate configuration options to "
"docker at start up. Please consult the standard docker <link xlink:href="
"\"https://docs.docker.com/engine/userguide/storagedriver/imagesandcontainers/"
"\">documentation</link> for storage configuration and storage related "
"options."
msgstr ""

#. Tag: title
#: art_sle_amazon_ecs.xml:315
#, no-c-format
msgid "Clean up"
msgstr ""

#. Tag: para
#: art_sle_amazon_ecs.xml:316
#, no-c-format
msgid ""
"If you decide that you want to clean up and shut everything down there are a "
"few additional steps to take when compared to terminating a system that is "
"not associated with a cluster."
msgstr ""

#. Tag: para
#: art_sle_amazon_ecs.xml:321
#, no-c-format
msgid ""
"In order to delete a cluster the tasks count of the tasks associated with "
"the cluster must be zero."
msgstr ""

#. Tag: screen
#: art_sle_amazon_ecs.xml:325
#, no-c-format
msgid ""
"$ aws ecs update-service \\\n"
"     --service <replaceable>TASK_NAME</replaceable> \\\n"
"     --desired-count 0"
msgstr ""

#. Tag: para
#: art_sle_amazon_ecs.xml:326
#, no-c-format
msgid ""
"Where <replaceable>TASK_NAME</replaceable> is the name of the task "
"associated with the cluster. If you used the Quick Launch Wizard and "
"selected <guimenu>Amazon ECS sample</guimenu> the <replaceable>TASK_NAME</"
"replaceable> is <literal>sample-webapp</literal>."
msgstr ""

#. Tag: para
#: art_sle_amazon_ecs.xml:332
#, no-c-format
msgid ""
"After setting the task/service count to zero as shown above you can delete "
"the task/service as follows:"
msgstr ""

#. Tag: screen
#: art_sle_amazon_ecs.xml:336
#, no-c-format
msgid "$ aws ecs delete-service --service <replaceable>TASK_NAME</replaceable>"
msgstr ""

#. Tag: para
#: art_sle_amazon_ecs.xml:337
#, no-c-format
msgid ""
"As mentioned previously, the First Run Wizard also creates an autoscaling "
"group. This group also needs to be deleted."
msgstr ""

#. Tag: para
#: art_sle_amazon_ecs.xml:342
#, no-c-format
msgid ""
"Any running instances associated with the autoscaling group will be "
"terminated when the autoscaling group is deleted."
msgstr ""

#. Tag: screen
#: art_sle_amazon_ecs.xml:347
#, no-c-format
msgid ""
"$ aws autoscaling delete-auto-scaling-group \\\n"
"     --auto-scaling-group-name <replaceable>GROUP_NAME</replaceable>"
msgstr ""

#. Tag: para
#: art_sle_amazon_ecs.xml:348
#, no-c-format
msgid "Now you are ready to delete the cluster."
msgstr ""

#. Tag: screen
#: art_sle_amazon_ecs.xml:351
#, no-c-format
msgid ""
"$ aws ecs delete-cluster --cluster <replaceable>CLUSTER_NAME</replaceable>"
msgstr ""
