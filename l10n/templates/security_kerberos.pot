# SOME DESCRIPTIVE TITLE.
# FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
#
#, fuzzy
msgid ""
msgstr ""
"Project-Id-Version: PACKAGE VERSION\n"
"Report-Msgid-Bugs-To: http://bugs.kde.org\n"
"POT-Creation-Date: 2017-01-20 18:23+0000\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <kde-i18n-doc@kde.org>\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"

#. Tag: title
#: security_kerberos.xml:13
#, no-c-format
msgid "Network Authentication with Kerberos"
msgstr ""

#. Tag: para
#: security_kerberos.xml:21
#, no-c-format
msgid ""
"An open network provides no means of ensuring that a workstation can "
"identify its users properly, except through the usual password mechanisms. "
"In common installations, the user must enter the password each time a "
"service inside the network is accessed. Kerberos provides an authentication "
"method with which a user registers only once and is trusted in the complete "
"network for the rest of the session. To have a secure network, the following "
"requirements must be met:"
msgstr ""

#. Tag: para
#: security_kerberos.xml:32
#, no-c-format
msgid ""
"Have all users prove their identity for each desired service and make sure "
"that no one can take the identity of someone else."
msgstr ""

#. Tag: para
#: security_kerberos.xml:38
#, no-c-format
msgid ""
"Make sure that each network server also proves its identity. Otherwise an "
"attacker might be able to impersonate the server and obtain sensitive "
"information transmitted to the server. This concept is called "
"<emphasis>mutual authentication</emphasis>, because the client authenticates "
"to the server and vice versa."
msgstr ""

#. Tag: para
#: security_kerberos.xml:47
#, no-c-format
msgid ""
"Kerberos helps you meet these requirements by providing strongly encrypted "
"authentication. Only the basic principles of Kerberos are discussed here. "
"For detailed technical instruction, refer to the Kerberos documentation."
msgstr ""

#. Tag: title
#: security_kerberos.xml:53
#, no-c-format
msgid "Kerberos Terminology"
msgstr ""

#. Tag: para
#: security_kerberos.xml:55
#, no-c-format
msgid "The following glossary defines some Kerberos terminology."
msgstr ""

#. Tag: term
#: security_kerberos.xml:61
#, no-c-format
msgid "credential"
msgstr ""

#. Tag: para
#: security_kerberos.xml:63
#, no-c-format
msgid ""
"Users or clients need to present some kind of credentials that authorize "
"them to request services. Kerberos knows two kinds of credentials&mdash;"
"tickets and authenticators."
msgstr ""

#. Tag: term
#: security_kerberos.xml:71
#, no-c-format
msgid "ticket"
msgstr ""

#. Tag: para
#: security_kerberos.xml:73
#, no-c-format
msgid ""
"A ticket is a per-server credential used by a client to authenticate at a "
"server from which it is requesting a service. It contains the name of the "
"server, the client's name, the client's Internet address, a time stamp, a "
"lifetime, and a random session key. All this data is encrypted using the "
"server's key."
msgstr ""

#. Tag: term
#: security_kerberos.xml:83
#, no-c-format
msgid "authenticator"
msgstr ""

#. Tag: para
#: security_kerberos.xml:85
#, no-c-format
msgid ""
"Combined with the ticket, an authenticator is used to prove that the client "
"presenting a ticket is really the one it claims to be. An authenticator is "
"built using the client's name, the workstation's IP address, and the current "
"workstation's time, all encrypted with the session key known only to the "
"client and the relevant server. An authenticator can only be used once, "
"unlike a ticket. A client can build an authenticator itself."
msgstr ""

#. Tag: term
#: security_kerberos.xml:97
#, no-c-format
msgid "principal"
msgstr ""

#. Tag: para
#: security_kerberos.xml:99
#, no-c-format
msgid ""
"A Kerberos principal is a unique entity (a user or service) to which it can "
"assign a ticket. A principal consists of the following components:"
msgstr ""

#. Tag: para
#: security_kerberos.xml:105
#, no-c-format
msgid ""
"<emphasis role=\"bold\">Primary</emphasis>&mdash;the first part of the "
"principal, which can be the same as your user name in the case of a user."
msgstr ""

#. Tag: para
#: security_kerberos.xml:112
#, no-c-format
msgid ""
"<emphasis role=\"bold\">Instance</emphasis>&mdash;some optional information "
"characterizing the primary. This string is separated from the primary by a "
"<literal>/</literal>."
msgstr ""

#. Tag: para
#: security_kerberos.xml:119
#, no-c-format
msgid ""
"<emphasis role=\"bold\">Realm</emphasis>&mdash;this specifies your Kerberos "
"realm. Normally, your realm is your domain name in uppercase letters."
msgstr ""

#. Tag: term
#: security_kerberos.xml:129
#, no-c-format
msgid "mutual authentication"
msgstr ""

#. Tag: para
#: security_kerberos.xml:131
#, no-c-format
msgid ""
"Kerberos ensures that both client and server can be sure of each other's "
"identity. They share a session key, which they can use to communicate "
"securely."
msgstr ""

#. Tag: term
#: security_kerberos.xml:139
#, no-c-format
msgid "session key"
msgstr ""

#. Tag: para
#: security_kerberos.xml:141
#, no-c-format
msgid ""
"Session keys are temporary private keys generated by Kerberos. They are "
"known to the client and used to encrypt the communication between the client "
"and the server for which it requested and received a ticket."
msgstr ""

#. Tag: term
#: security_kerberos.xml:149
#, no-c-format
msgid "replay"
msgstr ""

#. Tag: para
#: security_kerberos.xml:151
#, no-c-format
msgid ""
"Almost all messages sent in a network can be eavesdropped, stolen, and "
"resent. In the Kerberos context, this would be most dangerous if an attacker "
"manages to obtain your request for a service containing your ticket and "
"authenticator. The attacker could then try to resend it (<emphasis>replay</"
"emphasis>) to impersonate you. However, Kerberos implements several "
"mechanisms to deal with this problem."
msgstr ""

#. Tag: term
#: security_kerberos.xml:162
#, no-c-format
msgid "server or service"
msgstr ""

#. Tag: para
#: security_kerberos.xml:164
#, no-c-format
msgid ""
"<emphasis>Service</emphasis> is used to refer to a specific action to "
"perform. The process behind this action is called a <emphasis>server</"
"emphasis>."
msgstr ""

#. Tag: title
#: security_kerberos.xml:174
#, no-c-format
msgid "How Kerberos Works"
msgstr ""

#. Tag: para
#: security_kerberos.xml:176
#, no-c-format
msgid ""
"Kerberos is often called a third-party trusted authentication service, which "
"means all its clients trust Kerberos's judgment of another client's "
"identity. Kerberos keeps a database of all its users and their private keys."
msgstr ""

#. Tag: para
#: security_kerberos.xml:183
#, no-c-format
msgid ""
"To ensure Kerberos is working correctly, run both the authentication and "
"ticket-granting server on a dedicated machine. Make sure that only the "
"administrator can access this machine physically and over the network. "
"Reduce the (networking) services running on it to the absolute minimum&mdash;"
"do not even run <systemitem class=\"daemon\">sshd</systemitem>."
msgstr ""

#. Tag: title
#: security_kerberos.xml:193
#, no-c-format
msgid "First Contact"
msgstr ""

#. Tag: para
#: security_kerberos.xml:194
#, no-c-format
msgid ""
"Your first contact with Kerberos is quite similar to any login procedure at "
"a normal networking system. Enter your user name. This piece of information "
"and the name of the ticket-granting service are sent to the authentication "
"server (Kerberos). If the authentication server knows you, it generates a "
"random session key for further use between your client and the ticket-"
"granting server. Now the authentication server prepares a ticket for the "
"ticket-granting server. The ticket contains the following information&mdash;"
"all encrypted with a session key only the authentication server and the "
"ticket-granting server know:"
msgstr ""

#. Tag: para
#: security_kerberos.xml:207
#, no-c-format
msgid "The names of both, the client and the ticket-granting server"
msgstr ""

#. Tag: para
#: security_kerberos.xml:212 security_kerberos.xml:267
#: security_kerberos.xml:360
#, no-c-format
msgid "The current time"
msgstr ""

#. Tag: para
#: security_kerberos.xml:217
#, no-c-format
msgid "A lifetime assigned to this ticket"
msgstr ""

#. Tag: para
#: security_kerberos.xml:222 security_kerberos.xml:262
#: security_kerberos.xml:365
#, no-c-format
msgid "The client's IP address"
msgstr ""

#. Tag: para
#: security_kerberos.xml:227 security_kerberos.xml:370
#, no-c-format
msgid "The newly-generated session key"
msgstr ""

#. Tag: para
#: security_kerberos.xml:232
#, no-c-format
msgid ""
"This ticket is then sent back to the client together with the session key, "
"again in encrypted form, but this time the private key of the client is "
"used. This private key is only known to Kerberos and the client, because it "
"is derived from your user password. Now that the client has received this "
"response, you are prompted for your password. This password is converted "
"into the key that can decrypt the package sent by the authentication server. "
"The package is <quote>unwrapped</quote> and password and key are erased from "
"the workstation's memory. As long as the lifetime given to the ticket used "
"to obtain other tickets does not expire, your workstation can prove your "
"identity."
msgstr ""

#. Tag: title
#: security_kerberos.xml:248
#, no-c-format
msgid "Requesting a Service"
msgstr ""

#. Tag: para
#: security_kerberos.xml:249
#, no-c-format
msgid ""
"To request a service from any server in the network, the client application "
"needs to prove its identity to the server. Therefore, the application "
"generates an authenticator. An authenticator consists of the following "
"components:"
msgstr ""

#. Tag: para
#: security_kerberos.xml:257 security_kerberos.xml:350
#, no-c-format
msgid "The client's principal"
msgstr ""

#. Tag: para
#: security_kerberos.xml:272
#, no-c-format
msgid "A checksum (chosen by the client)"
msgstr ""

#. Tag: para
#: security_kerberos.xml:277
#, no-c-format
msgid ""
"All this information is encrypted using the session key that the client has "
"already received for this special server. The authenticator and the ticket "
"for the server are sent to the server. The server uses its copy of the "
"session key to decrypt the authenticator, which gives it all the information "
"needed about the client requesting its service, to compare it to that "
"contained in the ticket. The server checks if the ticket and the "
"authenticator originate from the same client."
msgstr ""

#. Tag: para
#: security_kerberos.xml:286
#, no-c-format
msgid ""
"Without any security measures implemented on the server side, this stage of "
"the process would be an ideal target for replay attacks. Someone could try "
"to resend a request stolen off the net some time before. To prevent this, "
"the server does not accept any request with a time stamp and ticket received "
"previously. In addition to that, a request with a time stamp differing too "
"much from the time the request is received is ignored."
msgstr ""

#. Tag: title
#: security_kerberos.xml:298
#, no-c-format
msgid "Mutual Authentication"
msgstr ""

#. Tag: para
#: security_kerberos.xml:299
#, no-c-format
msgid ""
"Kerberos authentication can be used in both directions. It is not only a "
"question of the client being the one it claims to be. The server should also "
"be able to authenticate itself to the client requesting its service. "
"Therefore, it sends an authenticator itself. It adds one to the checksum it "
"received in the client's authenticator and encrypts it with the session key, "
"which is shared between it and the client. The client takes this response as "
"a proof of the server's authenticity and they both start cooperating."
msgstr ""

#. Tag: title
#: security_kerberos.xml:312
#, no-c-format
msgid "Ticket Granting&mdash;Contacting All Servers"
msgstr ""

#. Tag: para
#: security_kerberos.xml:313
#, no-c-format
msgid ""
"Tickets are designed to be used for one server at a time. Therefore, you "
"need to get a new ticket each time you request another service. Kerberos "
"implements a mechanism to obtain tickets for individual servers. This "
"service is called the <quote>ticket-granting service</quote>. The ticket-"
"granting service is a service (like any other service mentioned before) and "
"uses the same access protocols that have already been outlined. Any time an "
"application needs a ticket that has not already been requested, it contacts "
"the ticket-granting server. This request consists of the following "
"components:"
msgstr ""

#. Tag: para
#: security_kerberos.xml:326
#, no-c-format
msgid "The requested principal"
msgstr ""

#. Tag: para
#: security_kerberos.xml:331
#, no-c-format
msgid "The ticket-granting ticket"
msgstr ""

#. Tag: para
#: security_kerberos.xml:336
#, no-c-format
msgid "An authenticator"
msgstr ""

#. Tag: para
#: security_kerberos.xml:341
#, no-c-format
msgid ""
"Like any other server, the ticket-granting server now checks the ticket-"
"granting ticket and the authenticator. If they are considered valid, the "
"ticket-granting server builds a new session key to be used between the "
"original client and the new server. Then the ticket for the new server is "
"built, containing the following information:"
msgstr ""

#. Tag: para
#: security_kerberos.xml:355
#, no-c-format
msgid "The server's principal"
msgstr ""

#. Tag: para
#: security_kerberos.xml:375
#, no-c-format
msgid ""
"The new ticket has a lifetime, which is either the remaining lifetime of the "
"ticket-granting ticket or the default for the service. The lesser of both "
"values is assigned. The client receives this ticket and the session key, "
"which are sent by the ticket-granting service, but this time the answer is "
"encrypted with the session key that came with the original ticket-granting "
"ticket. The client can decrypt the response without requiring the user's "
"password when a new service is contacted. Kerberos can thus acquire ticket "
"after ticket for the client without bothering the user."
msgstr ""

#. Tag: title
#: security_kerberos.xml:389
#, no-c-format
msgid "Compatibility to Windows 2000"
msgstr ""

#. Tag: para
#: security_kerberos.xml:390
#, no-c-format
msgid ""
"Windows 2000 contains a Microsoft implementation of Kerberos 5. "
"&productnamereg; uses the MIT implementation of Kerberos 5, find useful "
"information and guidance in the MIT documentation at <xref linkend=\"sec."
"security.kerberos.info\"/>."
msgstr ""

#. Tag: title
#: security_kerberos.xml:399
#, no-c-format
msgid "Users' View of Kerberos"
msgstr ""

#. Tag: para
#: security_kerberos.xml:401
#, no-c-format
msgid ""
"Ideally, a user's one and only contact with Kerberos happens during login at "
"the workstation. The login process includes obtaining a ticket-granting "
"ticket. At logout, a user's Kerberos tickets are automatically destroyed, "
"which makes it difficult for anyone else to impersonate this user."
msgstr ""

#. Tag: para
#: security_kerberos.xml:409
#, no-c-format
msgid ""
"The automatic expiration of tickets can lead to a somewhat awkward situation "
"when a user's login session lasts longer than the maximum lifespan given to "
"the ticket-granting ticket (a reasonable setting is 10 hours). However, the "
"user can get a new ticket-granting ticket by running <command>kinit</"
"command>. Enter the password again and Kerberos obtains access to desired "
"services without additional authentication. To get a list of all the tickets "
"silently acquired for you by Kerberos, run <command>klist</command>."
msgstr ""

#. Tag: para
#: security_kerberos.xml:420
#, no-c-format
msgid ""
"Here is a short list of applications that use Kerberos authentication. These "
"applications can be found under <filename>/usr/lib/mit/bin</filename> or "
"<filename>/usr/lib/mit/sbin</filename> after installing the package "
"<systemitem>krb5-apps-clients</systemitem>. They all have the full "
"functionality of their common Unix and Linux brothers plus the additional "
"bonus of transparent authentication managed by Kerberos:"
msgstr ""

#. Tag: para
#: security_kerberos.xml:432
#, no-c-format
msgid ""
"<command>telnet</command>, <systemitem class=\"daemon\">telnetd</systemitem>"
msgstr ""

#. Tag: para
#: security_kerberos.xml:443
#, no-c-format
msgid ""
"<command>rsh</command>, <command>rcp</command>, <systemitem class=\"daemon"
"\">rshd</systemitem>"
msgstr ""

#. Tag: para
#: security_kerberos.xml:449
#, no-c-format
msgid "<command>ftp</command>, <systemitem class=\"daemon\">ftpd</systemitem>"
msgstr ""

#. Tag: para
#: security_kerberos.xml:460
#, no-c-format
msgid ""
"You no longer need to enter your password for using these applications "
"because Kerberos has already proven your identity. <command>ssh</command>, "
"if compiled with Kerberos support, can even forward all the tickets acquired "
"for one workstation to another one. If you use <command>ssh</command> to log "
"in to another workstation, <command>ssh</command> makes sure that the "
"encrypted contents of the tickets are adjusted to the new situation. Simply "
"copying tickets between workstations is not sufficient because the ticket "
"contains workstation-specific information (the IP address). XDM and GDM "
"offer Kerberos support, too. Read more about the Kerberos network "
"applications in <citetitle>Kerberos V5 UNIX User's Guide</citetitle> at "
"<link xlink:href=\"http://web.mit.edu/kerberos\"></link>."
msgstr ""

#. Tag: title
#: security_kerberos.xml:476
#, no-c-format
msgid "Installing and Administering Kerberos"
msgstr ""

#. Tag: para
#: security_kerberos.xml:478
#, no-c-format
msgid ""
"A Kerberos environment consists of several components. A key distribution "
"center (KDC) holds the central database with all Kerberos-relevant data. All "
"clients rely on the KDC for proper authentication across the network. Both "
"the KDC and the clients need to be configured to match your setup:"
msgstr ""

#. Tag: term
#: security_kerberos.xml:488
#, no-c-format
msgid "General Preparations"
msgstr ""

#. Tag: para
#: security_kerberos.xml:490
#, no-c-format
msgid ""
"Check your network setup and make sure it meets the minimum requirements "
"outlined in <xref linkend=\"sec.security.kerberos.admin.top\"/>. Choose an "
"appropriate realm for your Kerberos setup, see <xref linkend=\"sec.security."
"kerberos.admin.realm\"/>. Carefully set up the machine that is to serve as "
"the KDC and apply tight security, see <xref linkend=\"sec.security.kerberos."
"admin.kdc\"/>. Set up a reliable time source in your network to make sure "
"all tickets contain valid time stamps, see <xref linkend=\"sec.security."
"kerberos.admin.time\"/>."
msgstr ""

#. Tag: term
#: security_kerberos.xml:504
#, no-c-format
msgid "Basic Configuration"
msgstr ""

#. Tag: para
#: security_kerberos.xml:506
#, no-c-format
msgid ""
"Configure the KDC and the clients, see <xref linkend=\"sec.security.kerberos."
"admin.instkdc\"/> and <xref linkend=\"sec.security.kerberos.admin.client\"/"
">. Enable remote administration for your Kerberos service, so you do not "
"need physical access to your KDC machine, see <xref linkend=\"sec.security."
"kerberos.admin.remote\"/>. Create service principals for every service in "
"your realm, see <xref linkend=\"sec.security.kerberos.admin.hostprinc\"/>."
msgstr ""

#. Tag: term
#: security_kerberos.xml:519
#, no-c-format
msgid "Enabling Kerberos Authentication"
msgstr ""

#. Tag: para
#: security_kerberos.xml:521
#, no-c-format
msgid ""
"Various services in your network can use Kerberos. To add Kerberos password-"
"checking to applications using PAM, proceed as outlined in <xref linkend="
"\"sec.security.kerberos.admin.pam\"/>. To configure SSH or LDAP with "
"Kerberos authentication, proceed as outlined in <xref linkend=\"sec.security."
"kerberos.admin.sshd\"/> and <xref linkend=\"sec.security.kerberos.admin.ldap"
"\"/>."
msgstr ""

#. Tag: title
#: security_kerberos.xml:534 security_kerberos.xml:575
#, no-c-format
msgid "Kerberos Network Topology"
msgstr ""

#. Tag: para
#: security_kerberos.xml:535
#, no-c-format
msgid ""
"Any Kerberos environment must meet the following requirements to be fully "
"functional:"
msgstr ""

#. Tag: para
#: security_kerberos.xml:541
#, no-c-format
msgid ""
"Provide a DNS server for name resolution across your network, so clients and "
"servers can locate each other. Refer to <xref linkend=\"cha.dns\"/> for "
"information on DNS setup."
msgstr ""

#. Tag: para
#: security_kerberos.xml:548
#, no-c-format
msgid ""
"Provide a time server in your network. Using exact time stamps is crucial to "
"a Kerberos setup, because valid Kerberos tickets must contain correct time "
"stamps. Refer to <xref linkend=\"cha.netz.xntp\"/> for information on NTP "
"setup."
msgstr ""

#. Tag: para
#: security_kerberos.xml:556
#, no-c-format
msgid ""
"Provide a key distribution center (KDC) as the center piece of the Kerberos "
"architecture. It holds the Kerberos database. Use the tightest possible "
"security policy on this machine to prevent any attacks on this machine "
"compromising your entire infrastructure."
msgstr ""

#. Tag: para
#: security_kerberos.xml:564
#, no-c-format
msgid "Configure the client machines to use Kerberos authentication."
msgstr ""

#. Tag: para
#: security_kerberos.xml:569
#, no-c-format
msgid ""
"The following figure depicts a simple example network with only the minimum "
"components needed to build a Kerberos infrastructure. Depending on the size "
"and topology of your deployment, your setup may vary."
msgstr ""

#. Tag: title
#: security_kerberos.xml:586
#, no-c-format
msgid "Configuring Subnet Routing"
msgstr ""

#. Tag: para
#: security_kerberos.xml:587
#, no-c-format
msgid ""
"For a setup similar to the one in <xref linkend=\"fig.netw.kerb\"/>, "
"configure routing between the two subnets (&subnetImask; and "
"&subnetIImask;). Refer to <xref linkend=\"sec.basicnet.yast.change.route\"/> "
"for more information on configuring routing with &yast;."
msgstr ""

#. Tag: title
#: security_kerberos.xml:598
#, no-c-format
msgid "Choosing the Kerberos Realms"
msgstr ""

#. Tag: para
#: security_kerberos.xml:599
#, no-c-format
msgid ""
"The domain of a Kerberos installation is called a realm and is identified by "
"a name, such as <literal>EXAMPLE.COM</literal> or simply "
"<literal>ACCOUNTING</literal>. Kerberos is case-sensitive, so "
"<literal>example.com</literal> is actually a different realm than "
"<literal>EXAMPLE.COM</literal>. Use the case you prefer. It is common "
"practice, however, to use uppercase realm names."
msgstr ""

#. Tag: para
#: security_kerberos.xml:607
#, no-c-format
msgid ""
"It is also a good idea to use your DNS domain name (or a subdomain, such as "
"<literal>ACCOUNTING.EXAMPLE.COM</literal>). As shown below, your life as an "
"administrator can be much easier if you configure your Kerberos clients to "
"locate the KDC and other Kerberos services via DNS. To do so, it is helpful "
"if your realm name is a subdomain of your DNS domain name."
msgstr ""

#. Tag: para
#: security_kerberos.xml:614
#, no-c-format
msgid ""
"Unlike the DNS name space, Kerberos is not hierarchical. You cannot set up a "
"realm named <literal>EXAMPLE.COM</literal>, have two <quote>subrealms</"
"quote> named <literal>DEVELOPMENT</literal> and <literal>ACCOUNTING</"
"literal> underneath it, and expect the two subordinate realms to somehow "
"inherit principals from <literal>EXAMPLE.COM</literal>. Instead, you would "
"have three separate realms for which you would need to configure cross-realm "
"authentication for users from one realm to interact with servers or other "
"users from another realm."
msgstr ""

#. Tag: para
#: security_kerberos.xml:624
#, no-c-format
msgid ""
"For the sake of simplicity, let us assume you are setting up just one realm "
"for your entire organization. For the remainder of this section, the realm "
"name <literal>EXAMPLE.COM</literal> is used in all examples."
msgstr ""

#. Tag: title
#: security_kerberos.xml:632
#, no-c-format
msgid "Setting Up the KDC Hardware"
msgstr ""

#. Tag: para
#: security_kerberos.xml:633
#, no-c-format
msgid ""
"The first thing required to use Kerberos is a machine that acts as the key "
"distribution center, or KDC for short. This machine holds the entire "
"Kerberos user database with passwords and all information."
msgstr ""

#. Tag: para
#: security_kerberos.xml:638
#, no-c-format
msgid ""
"The KDC is the most important part of your security infrastructure&mdash;if "
"someone breaks into it, all user accounts and all of your infrastructure "
"protected by Kerberos is compromised. An attacker with access to the "
"Kerberos database can impersonate any principal in the database. Tighten "
"security for this machine as much as possible:"
msgstr ""

#. Tag: para
#: security_kerberos.xml:648
#, no-c-format
msgid ""
"Put the server machine into a physically secured location, such as a locked "
"server room to which only a very few people have access."
msgstr ""

#. Tag: para
#: security_kerberos.xml:654
#, no-c-format
msgid ""
"Do not run any network applications on it except the KDC. This includes "
"servers and clients&mdash;for example, the KDC should not import any file "
"systems via NFS or use DHCP to retrieve its network configuration."
msgstr ""

#. Tag: para
#: security_kerberos.xml:662
#, no-c-format
msgid ""
"Install a minimal system first then check the list of installed packages and "
"remove any unneeded packages. This includes servers, such as <systemitem "
"class=\"daemon\">inetd</systemitem>, <systemitem class=\"daemon\">portmap</"
"systemitem>, and CUPS, plus anything X-based. Even installing an SSH server "
"should be considered a potential security risk."
msgstr ""

#. Tag: para
#: security_kerberos.xml:672
#, no-c-format
msgid ""
"No graphical login is provided on this machine as an X server is a potential "
"security risk. Kerberos provides its own administration interface."
msgstr ""

#. Tag: para
#: security_kerberos.xml:679
#, no-c-format
msgid ""
"Configure <filename>/etc/nsswitch.conf</filename> to use only local files "
"for user and group lookup. Change the lines for <literal>passwd</literal> "
"and <literal>group</literal> to look like this:"
msgstr ""

#. Tag: screen
#: security_kerberos.xml:685
#, no-c-format
msgid ""
"passwd:         files\n"
"group:          files"
msgstr ""

#. Tag: para
#: security_kerberos.xml:686
#, no-c-format
msgid ""
"Edit the <filename>passwd</filename>, <filename>group</filename>, and "
"<filename>shadow</filename> files in <filename>/etc</filename> and remove "
"the lines that start with a <literal>+</literal> character (these are for "
"NIS lookups)."
msgstr ""

#. Tag: para
#: security_kerberos.xml:694
#, no-c-format
msgid ""
"Disable all user accounts except &rootuser;'s account by editing <filename>/"
"etc/shadow</filename> and replacing the hashed passwords with <literal>*</"
"literal> or <literal>!</literal> characters."
msgstr ""

#. Tag: title
#: security_kerberos.xml:704
#, no-c-format
msgid "Configuring Time Synchronization"
msgstr ""

#. Tag: para
#: security_kerberos.xml:705
#, no-c-format
msgid ""
"To use Kerberos successfully, make sure that all system clocks within your "
"organization are synchronized within a certain range. This is important "
"because Kerberos protects against replayed credentials. An attacker might be "
"able to observe Kerberos credentials on the network and reuse them to attack "
"the server. Kerberos employs several defenses to prevent this. One of them "
"is that it puts time stamps into its tickets. A server receiving a ticket "
"with a time stamp that differs from the current time rejects the ticket."
msgstr ""

#. Tag: para
#: security_kerberos.xml:715
#, no-c-format
msgid ""
"Kerberos allows a certain leeway when comparing time stamps. However, "
"computer clocks can be very inaccurate in keeping time&mdash;it is not "
"unheard of for PC clocks to lose or gain half an hour during a week. For "
"this reason, configure all hosts on the network to synchronize their clocks "
"with a central time source."
msgstr ""

#. Tag: para
#: security_kerberos.xml:722
#, no-c-format
msgid ""
"A simple way to do so is by installing an NTP time server on one machine and "
"having all clients synchronize their clocks with this server. Do this either "
"by running an NTP daemon in client mode on all these machines or by running "
"<command>ntpdate</command> once a day from all clients (this solution "
"probably works for a few clients only). The KDC itself needs to be "
"synchronized to the common time source as well. Because running an NTP "
"daemon on this machine would be a security risk, it is probably a good idea "
"to do this by running ntpdate via a cron entry. To configure your machine as "
"an NTP client, proceed as outlined in <xref linkend=\"sec.netz.xntp.yast\"/>."
msgstr ""

#. Tag: para
#: security_kerberos.xml:734
#, no-c-format
msgid ""
"A different way to secure the time service and still use the NTP daemon is "
"to attach a hardware reference clock to a dedicated NTP server and an "
"additional hardware reference clock to the KDC."
msgstr ""

#. Tag: para
#: security_kerberos.xml:739
#, no-c-format
msgid ""
"It is also possible to adjust the maximum deviation Kerberos allows when "
"checking time stamps. This value (called <emphasis>clock skew</emphasis>) "
"can be set in the <filename>krb5.conf</filename> file as described in <xref "
"linkend=\"sec.security.kerberos.admin.client.clockskew\"/>."
msgstr ""

#. Tag: title
#: security_kerberos.xml:749
#, no-c-format
msgid "Configuring the KDC"
msgstr ""

#. Tag: para
#: security_kerberos.xml:750
#, no-c-format
msgid ""
"This section covers the initial configuration and installation of the KDC, "
"including the creation of an administrative principal. This procedure "
"consists of several steps:"
msgstr ""

#. Tag: title
#: security_kerberos.xml:758
#, no-c-format
msgid "Install the RPMs"
msgstr ""

#. Tag: para
#: security_kerberos.xml:759
#, no-c-format
msgid ""
"On a machine designated as the KDC, install the following software packages: "
"<systemitem class=\"resource\">krb5</systemitem>, <systemitem class="
"\"resource\">krb5-server</systemitem> and <systemitem class=\"resource"
"\">krb5-client</systemitem> packages."
msgstr ""

#. Tag: title
#: security_kerberos.xml:769
#, no-c-format
msgid "Adjust the Configuration Files"
msgstr ""

#. Tag: para
#: security_kerberos.xml:770
#, no-c-format
msgid ""
"The <filename>/etc/krb5.conf</filename> and <filename>/var/lib/kerberos/"
"krb5kdc/kdc.conf</filename> configuration files must be adjusted for your "
"scenario. These files contain all information on the KDC."
msgstr ""

#. Tag: title
#: security_kerberos.xml:780
#, no-c-format
msgid "Create the Kerberos Database"
msgstr ""

#. Tag: para
#: security_kerberos.xml:781
#, no-c-format
msgid ""
"Kerberos keeps a database of all principal identifiers and the secret keys "
"of all principals that need to be authenticated. Refer to <xref linkend="
"\"sec.security.kerberos.admin.kdc.database\"/> for details."
msgstr ""

#. Tag: title
#: security_kerberos.xml:791
#, no-c-format
msgid "Adjust the ACL Files: Add Administrators"
msgstr ""

#. Tag: para
#: security_kerberos.xml:792
#, no-c-format
msgid ""
"The Kerberos database on the KDC can be managed remotely. To prevent "
"unauthorized principals from tampering with the database, Kerberos uses "
"access control lists. You must explicitly enable remote access for the "
"administrator principal to enable him to manage the database. The Kerberos "
"ACL file is located under <filename>/var/lib/kerberos/krb5kdc/kadm5.acl</"
"filename>. Refer to <xref linkend=\"sec.security.kerberos.admin.remote\"/> "
"for details."
msgstr ""

#. Tag: title
#: security_kerberos.xml:805
#, no-c-format
msgid "Adjust the Kerberos Database: Add Administrators"
msgstr ""

#. Tag: para
#: security_kerberos.xml:806
#, no-c-format
msgid ""
"You need at least one administrative principal to run and administer "
"Kerberos. This principal must be added before starting the KDC. Refer to "
"<xref linkend=\"sec.security.kerberos.admin.kdc.princ\"/> for details."
msgstr ""

#. Tag: title
#: security_kerberos.xml:816
#, no-c-format
msgid "Start the Kerberos Daemon"
msgstr ""

#. Tag: para
#: security_kerberos.xml:817
#, no-c-format
msgid ""
"After the KDC software is installed and properly configured, start the "
"Kerberos daemon to provide Kerberos service for your realm. Refer to <xref "
"linkend=\"sec.security.kerberos.admin.kdc.start\"/> for details."
msgstr ""

#. Tag: title
#: security_kerberos.xml:827
#, no-c-format
msgid "Create a Principal for Yourself"
msgstr ""

#. Tag: para
#: security_kerberos.xml:828
#, no-c-format
msgid ""
"You need a principal for yourself. Refer to <xref linkend=\"sec.security."
"kerberos.admin.kdc.princ\"/> for details."
msgstr ""

#. Tag: title
#: security_kerberos.xml:836
#, no-c-format
msgid "Setting Up the Database"
msgstr ""

#. Tag: para
#: security_kerberos.xml:837
#, no-c-format
msgid ""
"Your next step is to initialize the database where Kerberos keeps all "
"information about principals. Set up the database master key, which is used "
"to protect the database from accidental disclosure (in particular if it is "
"backed up to tape). The master key is derived from a pass phrase and is "
"stored in a file called the stash file. This is so you do not need to enter "
"the password every time the KDC is restarted. Make sure that you choose a "
"good pass phrase, such as a sentence from a book opened to a random page."
msgstr ""

#. Tag: para
#: security_kerberos.xml:847
#, no-c-format
msgid ""
"When you make tape backups of the Kerberos database (<filename>/var/lib/"
"kerberos/krb5kdc/principal</filename>), do not back up the stash file (which "
"is in <filename>/var/lib/kerberos/krb5kdc/.k5.EXAMPLE.COM</filename>). "
"Otherwise, everyone able to read the tape could also decrypt the database. "
"Therefore, keep a copy of the pass phrase in a safe or some other secure "
"location, because you will need it to restore your database from backup tape "
"after a crash."
msgstr ""

#. Tag: para
#: security_kerberos.xml:857
#, no-c-format
msgid "To create the stash file and the database, run:"
msgstr ""

#. Tag: screen
#: security_kerberos.xml:860
#, no-c-format
msgid "kdb5_util create -r EXAMPLE.COM -s"
msgstr ""

#. Tag: para
#: security_kerberos.xml:861 security_kerberos.xml:895
#, no-c-format
msgid "You will see the following output:"
msgstr ""

#. Tag: screen
#: security_kerberos.xml:864
#, no-c-format
msgid ""
"Initializing database '/var/lib/kerberos/krb5kdc/principal' for realm "
"'EXAMPLE.COM',\n"
"master key name 'K/M@EXAMPLE.COM'\n"
"You will be prompted for the database Master Password.\n"
"It is important that you NOT FORGET this password.\n"
"Enter KDC database master key:  <co xml:id=\"co.kerb.kdb5.pass\"/>\n"
"Re-enter KDC database master key to verify:  <co xml:id=\"co.kerb.kdb5.pass."
"repeat\"/>"
msgstr ""

#. Tag: para
#: security_kerberos.xml:867
#, no-c-format
msgid "Type the master password."
msgstr ""

#. Tag: para
#: security_kerberos.xml:872
#, no-c-format
msgid "Type the password again."
msgstr ""

#. Tag: para
#: security_kerberos.xml:877
#, no-c-format
msgid "To verify, use the list command:"
msgstr ""

#. Tag: screen
#: security_kerberos.xml:880
#, no-c-format
msgid ""
"kadmin.local\n"
"\n"
"kadmin&gt; listprincs"
msgstr ""

#. Tag: para
#: security_kerberos.xml:881
#, no-c-format
msgid ""
"You will see several principals in the database, which are for internal use "
"by Kerberos:"
msgstr ""

#. Tag: screen
#: security_kerberos.xml:885
#, no-c-format
msgid ""
"K/M@EXAMPLE.COM\n"
"kadmin/admin@EXAMPLE.COM\n"
"kadmin/changepw@EXAMPLE.COM\n"
"krbtgt/EXAMPLE.COM@EXAMPLE.COM"
msgstr ""

#. Tag: title
#: security_kerberos.xml:888
#, no-c-format
msgid "Creating a Principal"
msgstr ""

#. Tag: para
#: security_kerberos.xml:889
#, no-c-format
msgid ""
"Create two Kerberos principals for yourself: one normal principal for "
"everyday work and one for administrative tasks relating to Kerberos. "
"Assuming your login name is &exampleuserIII;, proceed as follows:"
msgstr ""

#. Tag: screen
#: security_kerberos.xml:894
#, no-c-format
msgid ""
"kadmin.local\n"
"\n"
"kadmin&gt; ank &exampleuserIII_plain;"
msgstr ""

#. Tag: screen
#: security_kerberos.xml:898
#, no-c-format
msgid ""
"&exampleuserIII_plain;@EXAMPLE.COM's Password: <co xml:id=\"co.kerb.geeko."
"pass\"/>\n"
"Verifying password: <co xml:id=\"co.kerb.geeko.pass.repeat\"/>"
msgstr ""

#. Tag: para
#: security_kerberos.xml:901
#, no-c-format
msgid "Type &exampleuserIII;'s password."
msgstr ""

#. Tag: para
#: security_kerberos.xml:906
#, no-c-format
msgid "Type &exampleuserIII;'s password again."
msgstr ""

#. Tag: para
#: security_kerberos.xml:911
#, no-c-format
msgid ""
"Next, create another principal named <literal>&exampleuserIII_plain;/admin</"
"literal> by typing <command>ank</command> <option>&exampleuserIII_plain;/"
"admin</option> at the <command>kadmin</command> prompt. The <literal>admin</"
"literal> suffixed to your user name is a <emphasis>role</emphasis>. Later, "
"use this role when administering the Kerberos database. A user can have "
"several roles for different purposes. Roles act like completely different "
"accounts that have similar names."
msgstr ""

#. Tag: title
#: security_kerberos.xml:923
#, no-c-format
msgid "Starting the KDC"
msgstr ""

#. Tag: para
#: security_kerberos.xml:924
#, no-c-format
msgid ""
"Start the KDC daemon and the kadmin daemon. To start the daemons manually, "
"enter:"
msgstr ""

#. Tag: screen
#: security_kerberos.xml:928
#, no-c-format
msgid ""
"sudo systemctl start krb5kdc\n"
"sudo systemctl start kadmind"
msgstr ""

#. Tag: para
#: security_kerberos.xml:929
#, no-c-format
msgid ""
"Also make sure that the services KDC (<systemitem>krb5kdc</systemitem>) and "
"kadmind (<systemitem>kadmind</systemitem>) are started by default when the "
"server machine is rebooted. Enable them by entering:"
msgstr ""

#. Tag: screen
#: security_kerberos.xml:934
#, no-c-format
msgid "sudo systemctl enable krb5kdc kadmind"
msgstr ""

#. Tag: para
#: security_kerberos.xml:935
#, no-c-format
msgid "or by using the &yast; <guimenu>&ycc_services_manager;</guimenu>."
msgstr ""

#. Tag: title
#: security_kerberos.xml:942
#, no-c-format
msgid "Configuring Kerberos Clients"
msgstr ""

#. Tag: para
#: security_kerberos.xml:943
#, no-c-format
msgid ""
"When the supporting infrastructure is in place (DNS, NTP) and the KDC has "
"been properly configured and started, configure the client machines. To "
"configure a Kerberos client, use one of the two manual approaches described "
"below."
msgstr ""

#. Tag: para
#: security_kerberos.xml:951
#, no-c-format
msgid ""
"When configuring Kerberos, there are two approaches you can take&mdash;"
"static configuration in the <filename>/etc/krb5.conf</filename> file or "
"dynamic configuration with DNS. With DNS configuration, Kerberos "
"applications try to locate the KDC services using DNS records. With static "
"configuration, add the host names of your KDC server to <filename>krb5.conf</"
"filename> (and update the file whenever you move the KDC or reconfigure your "
"realm in other ways)."
msgstr ""

#. Tag: para
#: security_kerberos.xml:961
#, no-c-format
msgid ""
"DNS-based configuration is generally a lot more flexible and the amount of "
"configuration work per machine is a lot less. However, it requires that your "
"realm name is either the same as your DNS domain or a subdomain of it. "
"Configuring Kerberos via DNS also creates a minor security issue&mdash;an "
"attacker can seriously disrupt your infrastructure through your DNS (by "
"shooting down the name server, spoofing DNS records, etc.). However, this "
"amounts to a denial of service at worst. A similar scenario applies to the "
"static configuration case unless you enter IP addresses in <filename>krb5."
"conf</filename> instead of host names."
msgstr ""

#. Tag: title
#: security_kerberos.xml:974
#, no-c-format
msgid "Static Configuration"
msgstr ""

#. Tag: para
#: security_kerberos.xml:975
#, no-c-format
msgid ""
"One way to configure Kerberos is to edit <filename>/etc/krb5.conf</"
"filename>. The file installed by default contains various sample entries. "
"Erase all of these entries before starting. <filename>krb5.conf</filename> "
"is made up of several sections (stanzas), each introduced by the section "
"name in brackets like <literal>[this]</literal>."
msgstr ""

#. Tag: para
#: security_kerberos.xml:983
#, no-c-format
msgid ""
"To configure your Kerberos clients, add the following stanza to "
"<filename>krb5.conf</filename> (where <systemitem class=\"fqdomainname\">kdc."
"example.com</systemitem> is the host name of the KDC):"
msgstr ""

#. Tag: screen
#: security_kerberos.xml:989
#, no-c-format
msgid ""
"[libdefaults]\n"
"        default_realm = EXAMPLE.COM\n"
"\n"
"[realms]\n"
"        EXAMPLE.COM = {\n"
"                kdc = kdc.example.com\n"
"                admin_server = kdc.example.com\n"
"        }"
msgstr ""

#. Tag: para
#: security_kerberos.xml:990
#, no-c-format
msgid ""
"The <literal>default_realm</literal> line sets the default realm for "
"Kerberos applications. If you have several realms, add additional statements "
"to the <literal>[realms]</literal> section."
msgstr ""

#. Tag: para
#: security_kerberos.xml:995
#, no-c-format
msgid ""
"Also add a statement to this file that tells applications how to map host "
"names to a realm. For example, when connecting to a remote host, the "
"Kerberos library needs to know in which realm this host is located. This "
"must be configured in the <literal>[domain_realms]</literal> section:"
msgstr ""

#. Tag: screen
#: security_kerberos.xml:1002
#, no-c-format
msgid ""
"[domain_realm]\n"
".example.com = EXAMPLE.COM\n"
"www.example.org = EXAMPLE.COM"
msgstr ""

#. Tag: para
#: security_kerberos.xml:1003
#, no-c-format
msgid ""
"This tells the library that all hosts in the <filename>example.com</"
"filename> DNS domains are in the <filename>EXAMPLE.COM</filename> Kerberos "
"realm. In addition, one external host named <filename>www.example.org</"
"filename> should also be considered a member of the <filename>EXAMPLE.COM</"
"filename> realm."
msgstr ""

#. Tag: title
#: security_kerberos.xml:1012
#, no-c-format
msgid "DNS-Based Configuration"
msgstr ""

#. Tag: para
#: security_kerberos.xml:1013
#, no-c-format
msgid ""
"DNS-based Kerberos configuration makes heavy use of SRV records. See "
"<emphasis>(RFC2052) A DNS RR for specifying the location of services</"
"emphasis> at <link xlink:href=\"http://www.ietf.org\"></link>."
msgstr ""

#. Tag: para
#: security_kerberos.xml:1018
#, no-c-format
msgid ""
"The name of an SRV record, as far as Kerberos is concerned, is always in the "
"format <literal>_service._proto.realm</literal>, where realm is the Kerberos "
"realm. Domain names in DNS are case-insensitive, so case-sensitive Kerberos "
"realms would break when using this configuration method. <literal>_service</"
"literal> is a service name (different names are used when trying to contact "
"the KDC or the password service, for example). <literal>_proto</literal> can "
"be either <literal>_udp</literal> or <literal>_tcp</literal>, but not all "
"services support both protocols."
msgstr ""

#. Tag: para
#: security_kerberos.xml:1029
#, no-c-format
msgid ""
"The data portion of SRV resource records consists of a priority value, a "
"weight, a port number, and a host name. The priority defines the order in "
"which hosts should be tried (lower values indicate a higher priority). The "
"weight value is there to support some sort of load balancing among servers "
"of equal priority. You probably do not need any of this, so it is okay to "
"set these to zero."
msgstr ""

#. Tag: para
#: security_kerberos.xml:1037
#, no-c-format
msgid ""
"MIT Kerberos currently looks up the following names when looking for "
"services:"
msgstr ""

#. Tag: term
#: security_kerberos.xml:1043
#, no-c-format
msgid "_kerberos"
msgstr ""

#. Tag: para
#: security_kerberos.xml:1045
#, no-c-format
msgid ""
"This defines the location of the KDC daemon (the authentication and ticket "
"granting server). Typical records look like this:"
msgstr ""

#. Tag: screen
#: security_kerberos.xml:1049
#, no-c-format
msgid ""
"_kerberos._udp.EXAMPLE.COM.  IN  SRV    0 0 88 kdc.example.com.\n"
"_kerberos._tcp.EXAMPLE.COM.  IN  SRV    0 0 88 kdc.example.com."
msgstr ""

#. Tag: term
#: security_kerberos.xml:1053
#, no-c-format
msgid "_kerberos-adm"
msgstr ""

#. Tag: para
#: security_kerberos.xml:1055
#, no-c-format
msgid ""
"This describes the location of the remote administration service. Typical "
"records look like this:"
msgstr ""

#. Tag: screen
#: security_kerberos.xml:1059
#, no-c-format
msgid "_kerberos-adm._tcp.EXAMPLE.COM. IN  SRV    0 0 749 kdc.example.com."
msgstr ""

#. Tag: para
#: security_kerberos.xml:1060
#, no-c-format
msgid ""
"Because kadmind does not support UDP, there should be no <literal>_udp</"
"literal> record."
msgstr ""

#. Tag: para
#: security_kerberos.xml:1067
#, no-c-format
msgid ""
"As with the static configuration file, there is a mechanism to inform "
"clients that a specific host is in the <literal>EXAMPLE.COM</literal> realm, "
"even if it is not part of the <literal>example.com</literal> DNS domain. "
"This can be done by attaching a TXT record to <literal>_kerberos.host_name</"
"literal>, as shown here:"
msgstr ""

#. Tag: screen
#: security_kerberos.xml:1074
#, no-c-format
msgid "_kerberos.www.example.org.  IN TXT \"EXAMPLE.COM\""
msgstr ""

#. Tag: title
#: security_kerberos.xml:1077
#, no-c-format
msgid "Adjusting the Clock Skew"
msgstr ""

#. Tag: para
#: security_kerberos.xml:1078
#, no-c-format
msgid ""
"The <emphasis>clock skew</emphasis> is the tolerance for accepting tickets "
"with time stamps that do not exactly match the host's system clock. Usually, "
"the clock skew is set to 300 seconds (five minutes). This means a ticket can "
"have a time stamp somewhere between five minutes behind and five minutes "
"ahead of the server's clock."
msgstr ""

#. Tag: para
#: security_kerberos.xml:1085
#, no-c-format
msgid ""
"When using NTP to synchronize all hosts, you can reduce this value to about "
"one minute. The clock skew value can be set in <filename>/etc/krb5.conf</"
"filename> like this:"
msgstr ""

#. Tag: screen
#: security_kerberos.xml:1090
#, no-c-format
msgid ""
"[libdefaults]\n"
"        clockskew = 60"
msgstr ""

#. Tag: title
#: security_kerberos.xml:1096
#, no-c-format
msgid "Configuring Remote Kerberos Administration"
msgstr ""

#. Tag: para
#: security_kerberos.xml:1097
#, no-c-format
msgid ""
"To be able to add and remove principals from the Kerberos database without "
"accessing the KDC's console directly, tell the Kerberos administration "
"server which principals are allowed to do what by editing <filename>/var/lib/"
"kerberos/krb5kdc/kadm5.acl</filename>. The ACL (access control list) file "
"allows you to specify privileges with a precise degree of control. For "
"details, refer to the manual page with <command>man</command> <option>8 "
"kadmind</option>."
msgstr ""

#. Tag: para
#: security_kerberos.xml:1106
#, no-c-format
msgid ""
"For now, grant yourself the privilege to administer the database by putting "
"the following line into the file:"
msgstr ""

#. Tag: screen
#: security_kerberos.xml:1110
#, no-c-format
msgid "&exampleuserIII_plain;/admin              *"
msgstr ""

#. Tag: para
#: security_kerberos.xml:1111
#, no-c-format
msgid ""
"Replace the user name &exampleuserIII; with your own. Restart "
"<systemitem>kadmind</systemitem> for the change to take effect."
msgstr ""

#. Tag: para
#: security_kerberos.xml:1115
#, no-c-format
msgid ""
"You should now be able to perform Kerberos administration tasks remotely "
"using the kadmin tool. First, obtain a ticket for your admin role and use "
"that ticket when connecting to the kadmin server:"
msgstr ""

#. Tag: screen
#: security_kerberos.xml:1120
#, no-c-format
msgid ""
"kadmin -p &exampleuserIII_plain;/admin\n"
"Authenticating as principal &exampleuserIII_plain;/admin@EXAMPLE.COM with "
"password.\n"
"Password for &exampleuserIII_plain;/admin@EXAMPLE.COM:\n"
"kadmin:  getprivs\n"
"current privileges: GET ADD MODIFY DELETE\n"
"kadmin:"
msgstr ""

#. Tag: para
#: security_kerberos.xml:1121
#, no-c-format
msgid ""
"Using the <command>getprivs</command> command, verify which privileges you "
"have. The list shown above is the full set of privileges."
msgstr ""

#. Tag: para
#: security_kerberos.xml:1125
#, no-c-format
msgid "As an example, modify the principal &exampleuserIII;:"
msgstr ""

#. Tag: screen
#: security_kerberos.xml:1128
#, no-c-format
msgid ""
"kadmin -p &exampleuserIII_plain;/admin\n"
"Authenticating as principal &exampleuserIII_plain;/admin@EXAMPLE.COM with "
"password.\n"
"Password for &exampleuserIII_plain;/admin@EXAMPLE.COM:\n"
"\n"
"kadmin:  getprinc &exampleuserIII_plain;\n"
"Principal: &exampleuserIII_plain;@EXAMPLE.COM\n"
"Expiration date: [never]\n"
"Last password change: Wed Jan 12 17:28:46 CET 2005\n"
"Password expiration date: [none]\n"
"Maximum ticket life: 0 days 10:00:00\n"
"Maximum renewable life: 7 days 00:00:00\n"
"Last modified: Wed Jan 12 17:47:17 CET 2005 (admin/admin@EXAMPLE.COM)\n"
"Last successful authentication: [never]\n"
"Last failed authentication: [never]\n"
"Failed password attempts: 0\n"
"Number of keys: 2\n"
"Key: vno 1, Triple DES cbc mode with HMAC/sha1, no salt\n"
"Key: vno 1, DES cbc mode with CRC-32, no salt\n"
"Attributes:\n"
"Policy: [none]\n"
"\n"
"kadmin:  modify_principal -maxlife \"8 hours\" &exampleuserIII_plain;\n"
"Principal \"&exampleuserIII_plain;@EXAMPLE.COM\" modified.\n"
"kadmin:  getprinc &exampleuserIII_plain;\n"
"Principal: &exampleuserIII_plain;@EXAMPLE.COM\n"
"Expiration date: [never]\n"
"Last password change: Wed Jan 12 17:28:46 CET 2005\n"
"Password expiration date: [none]\n"
"Maximum ticket life: 0 days 08:00:00\n"
"Maximum renewable life: 7 days 00:00:00\n"
"Last modified: Wed Jan 12 17:59:49 CET 2005 (&exampleuserIII_plain;/"
"admin@EXAMPLE.COM)\n"
"Last successful authentication: [never]\n"
"Last failed authentication: [never]\n"
"Failed password attempts: 0\n"
"Number of keys: 2\n"
"Key: vno 1, Triple DES cbc mode with HMAC/sha1, no salt\n"
"Key: vno 1, DES cbc mode with CRC-32, no salt\n"
"Attributes:\n"
"Policy: [none]\n"
"kadmin:"
msgstr ""

#. Tag: para
#: security_kerberos.xml:1129
#, no-c-format
msgid ""
"This changes the maximum ticket life time to eight hours. For more "
"information about the <command>kadmin</command> command and the options "
"available, see the <systemitem>krb5-doc</systemitem> package or refer to the "
"<command>man</command> <option>8 kadmin</option> manual page."
msgstr ""

#. Tag: title
#: security_kerberos.xml:1138
#, no-c-format
msgid "Creating Kerberos Service Principals"
msgstr ""

#. Tag: para
#: security_kerberos.xml:1139
#, no-c-format
msgid ""
"So far, only user credentials have been discussed. However, Kerberos-"
"compatible services usually need to authenticate themselves to the client "
"user, too. Therefore, special service principals must be in the Kerberos "
"database for each service offered in the realm. For example, if &ldapname; "
"offers an LDAP service, you need a service principal, <literal>ldap/"
"&ldapname;@EXAMPLE.COM</literal>, to authenticate this service to all "
"clients."
msgstr ""

#. Tag: para
#: security_kerberos.xml:1148
#, no-c-format
msgid ""
"The naming convention for service principals is "
"<literal><replaceable>service</replaceable>/<replaceable>host_name</"
"replaceable>@<replaceable>REALM</replaceable></literal>, where "
"<replaceable>host_name</replaceable> is the host's fully qualified host name."
msgstr ""

#. Tag: para
#: security_kerberos.xml:1154
#, no-c-format
msgid "Valid service descriptors are:"
msgstr ""

#. Tag: para
#: security_kerberos.xml:1162
#, no-c-format
msgid "Service Descriptor"
msgstr ""

#. Tag: para
#: security_kerberos.xml:1167
#, no-c-format
msgid "Service"
msgstr ""

#. Tag: literal
#: security_kerberos.xml:1177
#, no-c-format
msgid "host"
msgstr ""

#. Tag: para
#: security_kerberos.xml:1181
#, no-c-format
msgid "Telnet, RSH, SSH"
msgstr ""

#. Tag: literal
#: security_kerberos.xml:1189
#, no-c-format
msgid "<literal>nfs</literal>"
msgstr ""

#. Tag: para
#: security_kerberos.xml:1193
#, no-c-format
msgid "NFSv4 (with Kerberos support)"
msgstr ""

#. Tag: literal
#: security_kerberos.xml:1201
#, no-c-format
msgid "HTTP"
msgstr ""

#. Tag: para
#: security_kerberos.xml:1205
#, no-c-format
msgid "HTTP (with Kerberos authentication)"
msgstr ""

#. Tag: literal
#: security_kerberos.xml:1213
#, no-c-format
msgid "imap"
msgstr ""

#. Tag: para
#: security_kerberos.xml:1217
#, no-c-format
msgid "IMAP"
msgstr ""

#. Tag: literal
#: security_kerberos.xml:1225
#, no-c-format
msgid "<literal>pop</literal>"
msgstr ""

#. Tag: para
#: security_kerberos.xml:1229
#, no-c-format
msgid "POP3"
msgstr ""

#. Tag: literal
#: security_kerberos.xml:1237
#, no-c-format
msgid "ldap"
msgstr ""

#. Tag: para
#: security_kerberos.xml:1241
#, no-c-format
msgid "LDAP"
msgstr ""

#. Tag: para
#: security_kerberos.xml:1249
#, no-c-format
msgid ""
"Service principals are similar to user principals, but have significant "
"differences. The main difference between a user principal and a service "
"principal is that the key of the former is protected by a password&mdash;"
"when a user obtains a ticket-granting ticket from the KDC, he needs to type "
"his password so Kerberos can decrypt the ticket. It would be inconvenient "
"for system administrators to obtain new tickets for the SSH daemon every "
"eight hours or so."
msgstr ""

#. Tag: para
#: security_kerberos.xml:1258
#, no-c-format
msgid ""
"Instead, the key required to decrypt the initial ticket for the service "
"principal is extracted by the administrator from the KDC only once and "
"stored in a local file called the <emphasis>keytab</emphasis>. Services such "
"as the SSH daemon read this key and use it to obtain new tickets "
"automatically, when needed. The default keytab file resides in <filename>/"
"etc/krb5.keytab</filename>."
msgstr ""

#. Tag: para
#: security_kerberos.xml:1266
#, no-c-format
msgid ""
"To create a host service principal for <literal>&wsIname;</literal> enter "
"the following commands during your kadmin session:"
msgstr ""

#. Tag: screen
#: security_kerberos.xml:1270
#, no-c-format
msgid ""
"kadmin -p &exampleuserIII_plain;/admin\n"
"Authenticating as principal &exampleuserIII_plain;/admin@EXAMPLE.COM with "
"password.\n"
"Password for &exampleuserIII_plain;/admin@EXAMPLE.COM:\n"
"kadmin:  addprinc -randkey host/&wsIname;\n"
"WARNING: no policy specified for host/&wsIname;@EXAMPLE.COM;\n"
"defaulting to no policy\n"
"Principal \"host/&wsIname;@EXAMPLE.COM\" created."
msgstr ""

#. Tag: para
#: security_kerberos.xml:1271
#, no-c-format
msgid ""
"Instead of setting a password for the new principal, the <option>-randkey</"
"option> flag tells <command>kadmin</command> to generate a random key. This "
"is used here because no user interaction is wanted for this principal. It is "
"a server account for the machine."
msgstr ""

#. Tag: para
#: security_kerberos.xml:1277
#, no-c-format
msgid ""
"Finally, extract the key and store it in the local keytab file <filename>/"
"etc/krb5.keytab</filename>. This file is owned by the superuser, so you must "
"be <systemitem class=\"username\">root</systemitem> to execute the next "
"command in the kadmin shell:"
msgstr ""

#. Tag: screen
#: security_kerberos.xml:1283
#, no-c-format
msgid ""
"kadmin:  ktadd host/&wsIname;\n"
"Entry for principal host/&wsIname; with kvno 3, encryption type Triple\n"
"DES cbc mode with HMAC/sha1 added to keytab WRFILE:/etc/krb5.keytab.\n"
"Entry for principal host/&wsIname; with kvno 3, encryption type DES\n"
"cbc mode with CRC-32 added to keytab WRFILE:/etc/krb5.keytab.\n"
"kadmin:"
msgstr ""

#. Tag: para
#: security_kerberos.xml:1284
#, no-c-format
msgid ""
"When completed, make sure that you destroy the admin ticket obtained with "
"kinit above with <command>kdestroy</command>."
msgstr ""

#. Tag: title
#: security_kerberos.xml:1291
#, no-c-format
msgid "Enabling PAM Support for Kerberos"
msgstr ""

#. Tag: para
#: security_kerberos.xml:1292
#, no-c-format
msgid ""
"&productnamereg; comes with a PAM module named <filename>pam_krb5</"
"filename>, which supports Kerberos login and password update. This module "
"can be used by applications such as console login, <command>su</command>, "
"and graphical login applications like GDM. That is, it can be used in all "
"cases where the user enters a password and expects the authenticating "
"application to obtain an initial Kerberos ticket on his behalf. To configure "
"PAM support for Kerberos, use the following command:"
msgstr ""

#. Tag: screen
#: security_kerberos.xml:1302
#, no-c-format
msgid "pam-config --add --krb5"
msgstr ""

#. Tag: para
#: security_kerberos.xml:1303
#, no-c-format
msgid ""
"The above command adds the <filename>pam_krb5</filename> module to the "
"existing PAM configuration files and makes sure it is called in the right "
"order. To make precise adjustments to the way in which <filename>pam_krb5</"
"filename> is used, edit the file <filename>/etc/krb5.conf</filename> and add "
"default applications to <filename>pam</filename>. For details, refer to the "
"manual page with <command>man</command> <option>5 pam_krb5</option>."
msgstr ""

#. Tag: para
#: security_kerberos.xml:1312
#, no-c-format
msgid ""
"The <filename>pam_krb5</filename> module was specifically not designed for "
"network services that accept Kerberos tickets as part of user "
"authentication. This is an entirely different matter, and is discussed below."
msgstr ""

#. Tag: title
#: security_kerberos.xml:1321
#, no-c-format
msgid "Configuring SSH for Kerberos Authentication"
msgstr ""

#. Tag: para
#: security_kerberos.xml:1322
#, no-c-format
msgid ""
"OpenSSH supports Kerberos authentication in both protocol version&nbsp;1 and "
"2. In version&nbsp;1, there are special protocol messages to transmit "
"Kerberos tickets. Version&nbsp;2 does not use Kerberos directly anymore, but "
"relies on GSSAPI, the General Security Services API. This is a programming "
"interface that is not specific to Kerberos&mdash;it was designed to hide the "
"peculiarities of the underlying authentication system, be it Kerberos, a "
"public-key authentication system like SPKM, or others. However, the included "
"GSSAPI library only supports Kerberos."
msgstr ""

#. Tag: para
#: security_kerberos.xml:1333
#, no-c-format
msgid ""
"To use sshd with Kerberos authentication, edit <filename>/etc/ssh/"
"sshd_config</filename> and set the following options:"
msgstr ""

#. Tag: screen
#: security_kerberos.xml:1337
#, no-c-format
msgid ""
"# These are for protocol version 1\n"
"#\n"
"# KerberosAuthentication yes\n"
"# KerberosTicketCleanup yes\n"
"\n"
"# These are for version 2 - better to use this\n"
"GSSAPIAuthentication yes\n"
"GSSAPICleanupCredentials yes"
msgstr ""

#. Tag: para
#: security_kerberos.xml:1338
#, no-c-format
msgid ""
"Then restart your SSH daemon using <command>sudo systemctl restart sshd</"
"command>."
msgstr ""

#. Tag: para
#: security_kerberos.xml:1342
#, no-c-format
msgid ""
"To use Kerberos authentication with protocol version 2, enable it on the "
"client side as well. Do this either in the systemwide configuration file "
"<filename>/etc/ssh/ssh_config</filename> or on a per-user level by editing "
"<filename>~/.ssh/config</filename>. In both cases, add the option "
"<literal>GSSAPIAuthentication yes</literal>."
msgstr ""

#. Tag: para
#: security_kerberos.xml:1349
#, no-c-format
msgid ""
"You should now be able to connect using Kerberos authentication. Use "
"<command>klist</command> to verify that you have a valid ticket, then "
"connect to the SSH server. To force SSH protocol version 1, specify the "
"<literal>-1</literal> option on the command line."
msgstr ""

#. Tag: title
#: security_kerberos.xml:1356
#, no-c-format
msgid "Additional Information"
msgstr ""

#. Tag: para
#: security_kerberos.xml:1357
#, no-c-format
msgid ""
"The file <filename>/usr/share/doc/packages/openssh/README.kerberos</"
"filename> discusses the interaction of OpenSSH and Kerberos in more detail."
msgstr ""

#. Tag: title
#: security_kerberos.xml:1365
#, no-c-format
msgid "Additional Directives for Protocol Version 2"
msgstr ""

#. Tag: para
#: security_kerberos.xml:1366
#, no-c-format
msgid ""
"The <literal>GSSAPIKeyExchange</literal> mechanism (RFC 4462) is supported. "
"This directive specifies how host keys are exchanged. For more information, "
"see the sshd_config manual page (<command>man sshd_config</command>)."
msgstr ""

#. Tag: title
#: security_kerberos.xml:1376
#, no-c-format
msgid "Using LDAP and Kerberos"
msgstr ""

#. Tag: para
#: security_kerberos.xml:1377
#, no-c-format
msgid ""
"When using Kerberos, one way to distribute the user information (such as "
"user ID, groups, and home directory) in your local network is to use LDAP. "
"This requires a strong authentication mechanism that prevents packet "
"spoofing and other attacks. One solution is to use Kerberos for LDAP "
"communication, too."
msgstr ""

#. Tag: para
#: security_kerberos.xml:1384
#, no-c-format
msgid ""
"OpenLDAP implements most authentication flavors through SASL, the simple "
"authentication session layer. SASL is a network protocol designed for "
"authentication. The SASL implementation is cyrus-sasl, which supports "
"several authentication flavors. Kerberos authentication is performed through "
"GSSAPI (General Security Services API). By default, the SASL plug-in for "
"GSSAPI is not installed. Install the <systemitem>cyrus-sasl-gssapi</"
"systemitem> with &yast;."
msgstr ""

#. Tag: para
#: security_kerberos.xml:1393
#, no-c-format
msgid ""
"To enable Kerberos to bind to the OpenLDAP server, create a principal "
"<literal>ldap/&ldapname;</literal> and add that to the keytab."
msgstr ""

#. Tag: para
#: security_kerberos.xml:1397
#, no-c-format
msgid ""
"By default, the LDAP server slapd runs as user and group <systemitem class="
"\"username\">ldap</systemitem>, while the keytab file is readable by "
"<systemitem class=\"username\">root</systemitem> only. Therefore, either "
"change the LDAP configuration so the server runs as <systemitem class="
"\"username\">root</systemitem> or make the keytab file readable by the group "
"<systemitem class=\"username\">ldap</systemitem>. The latter is done "
"automatically by the OpenLDAP start script (<filename>/usr/lib/openldap/"
"start</filename>) if the keytab file has been specified in the "
"<envar>OPENLDAP_KRB5_KEYTAB</envar> variable in <filename>/etc/sysconfig/"
"openldap</filename> and the <envar>OPENLDAP_CHOWN_DIRS</envar> variable is "
"set to <literal>yes</literal>, which is the default setting. If "
"<envar>OPENLDAP_KRB5_KEYTAB</envar> is left empty, the default keytab under "
"<filename>/etc/krb5.keytab</filename> is used and you must adjust the "
"privileges yourself as described below."
msgstr ""

#. Tag: para
#: security_kerberos.xml:1414
#, no-c-format
msgid ""
"To run slapd as &rootuser;, edit <filename>/etc/sysconfig/openldap</"
"filename>. Disable the <systemitem>OPENLDAP_USER</systemitem> and "
"<systemitem>OPENLDAP_GROUP</systemitem> variables by putting a comment "
"character in front of them."
msgstr ""

#. Tag: para
#: security_kerberos.xml:1421
#, no-c-format
msgid "To make the keytab file readable by group LDAP, execute"
msgstr ""

#. Tag: screen
#: security_kerberos.xml:1424
#, no-c-format
msgid ""
"chgrp ldap /etc/krb5.keytab\n"
"chmod 640 /etc/krb5.keytab"
msgstr ""

#. Tag: para
#: security_kerberos.xml:1425
#, no-c-format
msgid ""
"A third (and maybe the best) solution is to tell OpenLDAP to use a special "
"keytab file. To do this, start kadmin, and enter the following command after "
"you have added the principal ldap/&ldapname;:"
msgstr ""

#. Tag: screen
#: security_kerberos.xml:1430
#, no-c-format
msgid "ktadd -k /etc/openldap/ldap.keytab ldap/&ldapname;@EXAMPLE.COM"
msgstr ""

#. Tag: para
#: security_kerberos.xml:1431
#, no-c-format
msgid "Then in the shell run:"
msgstr ""

#. Tag: screen
#: security_kerberos.xml:1434
#, no-c-format
msgid ""
"chown ldap.ldap /etc/openldap/ldap.keytab\n"
"chmod 600 /etc/openldap/ldap.keytab"
msgstr ""

#. Tag: para
#: security_kerberos.xml:1435
#, no-c-format
msgid ""
"To tell OpenLDAP to use a different keytab file, change the following "
"variable in <filename>/etc/sysconfig/openldap</filename>:"
msgstr ""

#. Tag: screen
#: security_kerberos.xml:1439
#, no-c-format
msgid "OPENLDAP_KRB5_KEYTAB=\"/etc/openldap/ldap.keytab\""
msgstr ""

#. Tag: para
#: security_kerberos.xml:1440
#, no-c-format
msgid ""
"Finally, restart the LDAP server using <command>sudo systemctl restart "
"slapd</command>."
msgstr ""

#. Tag: title
#: security_kerberos.xml:1443
#, no-c-format
msgid "Using Kerberos Authentication with LDAP"
msgstr ""

#. Tag: para
#: security_kerberos.xml:1444
#, no-c-format
msgid ""
"You are now able to automatically use tools such as ldapsearch with Kerberos "
"authentication."
msgstr ""

#. Tag: screen
#: security_kerberos.xml:1448
#, no-c-format
msgid ""
"ldapsearch -b ou=people,dc=example,dc=com '(uid=&exampleuserIII_plain;)'\n"
"\n"
"SASL/GSSAPI authentication started\n"
"SASL SSF: 56\n"
"SASL installing layers\n"
"[...]\n"
"\n"
"# &exampleuserIII_plain;, people, example.com\n"
"dn: uid=&exampleuserIII_plain;,ou=people,dc=example,dc=com\n"
"uid: &exampleuserIII_plain;\n"
"cn: &exampleuserIIIfull;\n"
"[...]"
msgstr ""

#. Tag: para
#: security_kerberos.xml:1449
#, no-c-format
msgid ""
"As you can see, <command>ldapsearch</command> prints a message that it "
"started GSSAPI authentication. The next message is very cryptic, but it "
"shows that the <emphasis>security strength factor</emphasis> (SSF for short) "
"is 56 (The value 56 is somewhat arbitrary. Most likely it was chosen because "
"this is the number of bits in a DES encryption key). This means that GSSAPI "
"authentication was successful and that encryption is being used to protect "
"integrity and provide confidentiality for the LDAP connection."
msgstr ""

#. Tag: para
#: security_kerberos.xml:1459
#, no-c-format
msgid ""
"In Kerberos, authentication is always mutual. This means that not only have "
"you authenticated yourself to the LDAP server, but also the LDAP server has "
"authenticated itself to you. In particular, this means communication is with "
"the desired LDAP server, rather than some bogus service set up by an "
"attacker."
msgstr ""

#. Tag: title
#: security_kerberos.xml:1469
#, no-c-format
msgid "Kerberos Authentication and LDAP Access Control"
msgstr ""

#. Tag: para
#: security_kerberos.xml:1515
#, no-c-format
msgid ""
"There is one minor piece of the puzzle missing&mdash;how the LDAP server can "
"find out that the Kerberos user <literal>&exampleuser_plain;@EXAMPLE.COM</"
"literal> corresponds to the LDAP distinguished name "
"<literal>uid=&exampleuser_plain;,ou=people,dc=example,dc=com</literal>. This "
"sort of mapping must be configured manually using the <literal>saslExpr</"
"literal> directive. In this example, the \"authz-regexp\" change in LDIF "
"would look as follows:"
msgstr ""

#. Tag: screen
#: security_kerberos.xml:1525
#, no-c-format
msgid ""
"dn: cn=config\n"
"add: olcAuthzRegexp\n"
"olcAuthzRegexp: uid=(.*),cn=GSSAPI,cn=auth uid=$1,ou=people,dc=example,dc=com"
msgstr ""

#. Tag: para
#: security_kerberos.xml:1526
#, no-c-format
msgid ""
"All these changes can be applied via <command>ldapmodify</command> on the "
"command line."
msgstr ""

#. Tag: para
#: security_kerberos.xml:1530
#, no-c-format
msgid ""
"When SASL authenticates a user, OpenLDAP forms a distinguished name from the "
"name given to it by SASL (such as &exampleuser;) and the name of the SASL "
"flavor (<literal>GSSAPI</literal>). The result would be "
"<literal>uid=&exampleuser_plain;,cn=GSSAPI,cn=auth</literal>."
msgstr ""

#. Tag: para
#: security_kerberos.xml:1537
#, no-c-format
msgid ""
"If a <literal>authz-regexp</literal> has been configured, it checks the DN "
"formed from the SASL information using the first argument as a regular "
"expression. If this regular expression matches, the name is replaced with "
"the second argument of the <literal>authz-regexp</literal> statement. The "
"placeholder <literal>$1</literal> is replaced with the substring matched by "
"the <literal>(.*)</literal> expression."
msgstr ""

#. Tag: para
#: security_kerberos.xml:1546
#, no-c-format
msgid ""
"More complicated match expressions are possible. If you have a more "
"complicated directory structure or a schema in which the user name is not "
"part of the DN, you can even use search expressions to map the SASL DN to "
"the user DN."
msgstr ""

#. Tag: para
#: security_kerberos.xml:1552
#, no-c-format
msgid "For more information, see the <literal>slapd-config</literal> man page."
msgstr ""

#. Tag: title
#: security_kerberos.xml:1559
#, no-c-format
msgid "For More Information"
msgstr ""

#. Tag: para
#: security_kerberos.xml:1561
#, no-c-format
msgid ""
"The official site of the MIT Kerberos is <link xlink:href=\"http://web.mit."
"edu/kerberos\"></link>. There, find links to any other relevant resource "
"concerning Kerberos, including Kerberos installation, user, and "
"administration guides."
msgstr ""

#. Tag: para
#: security_kerberos.xml:1580
#, no-c-format
msgid ""
"The book <emphasis>Kerberos&mdash;A Network Authentication System</emphasis> "
"by Brian Tung (ISBN 0-201-37924-4) offers extensive information."
msgstr ""
